---
layout: default
title: cucumber-nagios
---

<p>
  <code>cucumber-nagios</code> lets you describe how a system
  should work in natural language, and outputs whether it does in
  the Nagios plugin format:
</p>

<blockquote>
  <pre class="code">
Feature: google.com
  It should be up
  And I should be able to search for things

  Scenario: Searching for things
    When I go to "http://www.google.com"
    And I fill in "q" with "wikipedia"
    And I press "Google Search"
    Then I should see "www.wikipedia.org"
  </pre>
</blockquote>

<p>
  Then run it:
</p>

<blockquote>
  <pre class="code">
$ cucumber-nagios google.feature
Critical: 0, Warning: 0, 4 okay | passed=4, failed=0
  </pre>
</blockquote>

<p>
  <code>cucumber-nagios</code> uses
  <a href="http://github.com/brynary/webrat/tree/master#readme">Webrat</a>
  with the
  <a href="http://mechanize.rubyforge.org/mechanize/">Mechanize</a>
  backend, so you can point it any site you can reach over HTTP
  (you don't have to have access to the site's code).&nbsp;
</p>
<p>
  <code>cucumber-nagios</code> can also interact with machines
  over SSH through
  <a href="http://net-ssh.rubyforge.org/ssh/v2/api/index.html">Net::SSH</a>,
  bringing you closer to
  <a href="http://holmwood.id.au/~lindsay/2009/11/09/behaviour-driven-infrastructure-through-cucumber/">Behaviour
  Driven Infrastructure</a> Nirvana.
</p>

<h2>Installing</h2>
<p>
  <code>cucumber-nagios</code> is distributed as a RubyGem.
</p>
<blockquote>
  <pre class="code">
$ gem install cucumber-nagios
  </pre>
</blockquote>
<p>
  Then you just set up a project to contain all your descriptions.
</p>
<blockquote>
  <pre class="code">
$ cucumber-nagios-gen project ebay.com.au
$ cd ebay.com.au
$ gem bundle
  </pre>
</blockquote>
<p>
  <code class="cmd">gem bundle</code> freezes in RubyGem dependencies with
  <a href="http://github.com/wycats/bundler">Bundler</a>,
  so you can tar up your <code>cucumber-nagios</code>
  project and put it on another machine easily.
</p>
<p class="notice">
<img src="images/important.png"/>
  Please note, the RubyGems Bundler requires RubyGems 1.3.5 or greater.
</p>

<h2>Using</h2>
<p>
Your <code>cucumber-nagios</code> project includes a generator that
can spit out features.

From within your project directory:
</p>
<blockquote>
  <pre class="code">
$ cucumber-nagios-gen feature ebay.com.au bidding
  </pre>
</blockquote>

<p>
<code class="arg">ebay.com.au</code> being the site you want to test,
and <code class="arg">bidding</code> the feature you want to test.
</p>

<p>
  Write your features in your favourite editor (the above feature
  will live in <code class="file">features/ebay.com.au/bidding.feature</code>),
  then test it with:
</p>
<blockquote>
  <pre class="code">
$ bin/cucumber-nagios features/ebay.com.au/bidding.feature
Critical: 0, Warning: 0, 4 okay | value=4.000000;;;;
  </pre>
</blockquote>


<h2>Meta</h2>
<ul>
  <li>Code lives on <a href="http://github.com/auxesis/cucumber-nagios">GitHub</a>.</li>
  <li>There will be bugs - please <a href="http://github.com/auxesis/cucumber-nagios/issues">report them</a>!</li>
  <li><a href="http://en.wikipedia.org/wiki/MIT_License">MIT Licenced</a>.</li>
  <li>Written by <a href="http://holmwood.id.au/~lindsay/">Lindsay Holmwood</a> and <a
    href="http://github.com/auxesis/cucumber-nagios/blob/978871e2a6ceac1fc0496be508b132cbcb18f22e/AUTHORS">helpers</a>.</li>
</ul>

<h2>Related</h2>
<ul class="related">
  <li>
    Jason Goecke on
  <a
    href="http://blog.goecke.net/2009/06/10/behavior-driven-systems-monitoring-for-telephony/">Behavior
    Driven Systems Monitoring for Telephony</a> with <code>cucumber-nagios</code> and <a
    href="http://github.com/jsgoecke/telephony-system-tests/tree/master">telephony-system-tests</a>.</li>
  <li>Bradley Taylor on <a
    href="http://bradley.is/post/82649218/testing-dash-metrics-with-cucumber">Testing Dash Metric
    with Cucumber</a>.</li>
  <li>James Turnbull has <a href="http://www.kartar.net/2009/03/cucumber/">some good examples</a> of
  using <code>cucumber-nagios</code>.</li>
  <li>Lindsay Holmwood <a
    href="http://www.slideshare.net/auxesis/behaviour-driven-monitoring-with-cucumbernagios-2444224">talked
    about</a> <code>cucumber-nagios</code> at <a href="http://devopsdays.org">Devopsdays 2009</a>.</li>
  <li>Stephen Nelson-Smith does a great introductory post on <a
    href="http://agilesysadmin.net/cucumber-nagios">Intelligent Monitoring</a>
  with <code>cucumber-nagios</code>.</li>
  <li>Olivier Jan at nagios-fr.org
  introduces <code>cucumber-nagios</code> <a
    href="http://www.nagios-fr.org/2009/11/cucumber-nagios/">en fran√ßais</a>.
  </li>

</ul>

<h2>Friends</h2>
<ul class="related">
  <li><a href="http://cukes.info/">Cucumber</a>, Behaviour Driven Development with elegance and joy.</li>
  <li><a href="http://flapjack-project.com/">Flapjack</a>, the delicious monitoring system.</li>
  <li><a href="http://collectd.org/">collectd</a>, the system statistics collection daemon.</li>
  <li><a href="http://puppet.reductivelabs.com/">Puppet</a>, configuration management & automated infrastructure.</li>
</ul>
